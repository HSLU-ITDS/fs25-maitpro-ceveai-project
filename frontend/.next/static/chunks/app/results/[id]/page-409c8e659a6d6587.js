(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{3152:(e,r,s)=>{Promise.resolve().then(s.bind(s,9832))},7750:(e,r,s)=>{"use strict";s.d(r,{v:()=>t});let a=s(4089).env.NEXT_PUBLIC_API_URL||"http://localhost:8000",t={results:e=>"".concat(a,"/results/").concat(e),criteria:"".concat(a,"/criteria"),jobAnalyses:"".concat(a,"/job-analyses"),analyzeCVs:"".concat(a,"/analyze-cvs"),generatePDF:"".concat(a,"/generate-pdf")}},8600:(e,r,s)=>{"use strict";s.d(r,{$:()=>d});var a=s(3365);s(1521);var t=s(544),l=s(2934),n=s(9671);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:r,variant:s,size:l,asChild:d=!1,...o}=e,i=d?t.DX:"button";return(0,a.jsx)(i,{"data-slot":"button",className:(0,n.cn)(c({variant:s,size:l,className:r})),...o})}},9671:(e,r,s)=>{"use strict";s.d(r,{cn:()=>l});var a=s(4584),t=s(2292);function l(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,t.QP)((0,a.$)(r))}},9832:(e,r,s)=>{"use strict";s.d(r,{default:()=>N});var a=s(3365),t=s(1521),l=s(7982);let n=(0,l.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),c=(0,l.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var d=s(1971),o=s(9671);function i(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,o.cn)("w-full caption-bottom text-sm",r),...s})})}function x(e){let{className:r,...s}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,o.cn)("[&_tr]:border-b",r),...s})}function h(e){let{className:r,...s}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,o.cn)("[&_tr:last-child]:border-0",r),...s})}function u(e){let{className:r,...s}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,o.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),...s})}function b(e){let{className:r,...s}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,o.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})}function m(e){let{className:r,...s}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,o.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})}var f=s(8600),v=s(7750);function g(e){let{candidates:r,selected:s,onSelect:l}=e,[o,g]=(0,t.useState)(!0),p=Array.from(new Set(r.flatMap(e=>e.scores.map(e=>e.criterion))));return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"h-fit w-full flex justify-between pb-2 items-end",children:[(0,a.jsx)("h1",{className:" text-muted-foreground",children:"Top Candidates"}),(0,a.jsx)(f.$,{className:"bg-transparent text-primary border-2 border-border hover:bg-muted",onClick:async()=>{let e=await fetch(v.v.generatePDF,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({candidates:r})});if(!e.ok)return void d.oR.error("Failed to generate PDF");let s=await e.blob(),a=window.URL.createObjectURL(s),t=document.createElement("a");t.href=a,t.download="candidates-report.pdf",document.body.appendChild(t),t.click(),t.remove(),window.URL.revokeObjectURL(a),d.oR.success("PDF report generated successfully")},children:"Export to PDF"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"max-h-[300px] overflow-y-auto border rounded-md",children:(0,a.jsxs)(i,{className:"min-w-full table-auto",children:[(0,a.jsx)(x,{className:"sticky top-0 z-10",children:(0,a.jsxs)(u,{className:"",children:[(0,a.jsx)(b,{className:"bg-background border-r border-border",children:"Rank"}),(0,a.jsx)(b,{className:"bg-background border-r border-border",children:"Candidate"}),(0,a.jsx)(b,{className:"bg-background border-r border-border",children:"Total"}),o&&p.map(e=>(0,a.jsx)(b,{className:"bg-background border-r border-border",children:e},e))]})}),(0,a.jsx)(h,{children:r.map((e,r)=>(0,a.jsxs)(u,{onClick:()=>l(e),className:(r%2==0?"bg-muted":"bg-background")+(s.filename===e.filename?" font-bold":""),children:[(0,a.jsx)(m,{children:e.index}),(0,a.jsx)(m,{children:e.candidate_name}),(0,a.jsx)(m,{children:e.total_score}),o&&p.map(r=>{let s=e.scores.find(e=>e.criterion===r);return(0,a.jsx)(m,{children:s?s.score:"-"},r)})]},e.filename))})]})}),(0,a.jsx)("div",{onClick:()=>g(!o),className:"absolute top-0 -right-4 w-4 bg-accent hover:bg-muted-foreground transition-colors flex items-center justify-center cursor-pointer border-l z-20","aria-label":o?"Collapse table":"Expand table",role:"button",tabIndex:0,children:(0,a.jsx)("div",{className:"h-8 w-4 flex items-center justify-center",children:o?(0,a.jsx)(n,{className:"h-4 w-4 text-primary"}):(0,a.jsx)(c,{className:"h-4 w-4 text-primary"})})})]})]})}let p=function(e){let{scores:r}=e;return(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"max-h-[300px] overflow-y-auto border border-border rounded-md",children:(0,a.jsxs)(i,{className:"min-w-full table-auto",children:[(0,a.jsx)(x,{children:(0,a.jsxs)(u,{className:"",children:[(0,a.jsx)(b,{className:"bg-background border-r  border-border text-primary",children:"Metric"}),(0,a.jsx)(b,{className:"bg-background border-r  border-border text-primary",children:"Score"})]})}),(0,a.jsx)(h,{children:r.map((e,r)=>{let s=r%2==0;return(0,a.jsxs)(u,{className:"".concat(s?"bg-muted":"bg-background"," ").concat(s?"hover:bg-muted hover:font-normal text-primary":"hover:bg-background hover:font-normal text-primary"),children:[(0,a.jsx)(m,{children:e.criterion}),(0,a.jsx)(m,{children:e.score})]},"".concat(e.criterion,"-").concat(r))})})]})})})},j=e=>{let{candidate:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-full h-full flex space-x-8",children:[(0,a.jsxs)("div",{className:"flex-2 h-full flex flex-col ",children:[(0,a.jsx)("div",{className:"grid grid-cols-6",children:(0,a.jsxs)("div",{className:"col-span-5 flex space-x-8 px-6 pb-4",children:[(0,a.jsxs)("h1",{className:"text-gray-600 text-4xl font-bold",children:["#",r.index]}),(0,a.jsx)("h1",{className:"font-semibold text-3xl",children:r.candidate_name})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto px-6",children:(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:r.summary})})]}),(0,a.jsxs)("div",{className:"h-full flex-1 grid grid-row-6",children:[(0,a.jsxs)("h1",{className:"text-primary text-4xl font-bold row-span-1 justify-self-end",children:[r.total_score,"/10"]}),(0,a.jsx)("div",{className:"row-span-5",children:(0,a.jsx)(p,{scores:r.scores})})]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Scores"}),(0,a.jsx)("ul",{className:"list-disc pl-8",children:r.scores.map(e=>(0,a.jsxs)("li",{children:[e.criterion,": ",e.score]},e.criterion))})]})]})},N=e=>{let{data:r}=e,[s,l]=(0,t.useState)(r.candidates[0]);return(0,a.jsx)("div",{className:"flex flex-col flex-1 h-full min-h-0",children:(0,a.jsxs)("div",{className:"mx-10 flex-1 flex flex-col space-y-6",children:[(0,a.jsx)("div",{className:"h-full flex-5/12",children:(0,a.jsx)(g,{candidates:r.candidates,selected:s,onSelect:l})}),(0,a.jsx)("div",{className:"h-full flex-7/12",children:(0,a.jsx)(j,{candidate:s})})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[429,347,870,358],()=>r(3152)),_N_E=e.O()}]);