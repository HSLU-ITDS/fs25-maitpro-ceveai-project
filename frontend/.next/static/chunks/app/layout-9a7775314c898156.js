(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1201:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var s=a(3365);a(1521);var r=a(7246),n=a(8600),i=a(917),o=a(9671);function l(e){let{...t}=e;return(0,s.jsx)(i.bL,{"data-slot":"dropdown-menu",...t})}function d(e){let{...t}=e;return(0,s.jsx)(i.l9,{"data-slot":"dropdown-menu-trigger",...t})}function c(e){let{className:t,sideOffset:a=4,...r}=e;return(0,s.jsx)(i.ZL,{children:(0,s.jsx)(i.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...r})})}function u(e){let{className:t,inset:a,variant:r="default",...n}=e;return(0,s.jsx)(i.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":r,className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}var m=a(1329),f=a(9638),h=a(2225);let x=()=>{let{setTheme:e}=(0,r.D)();return(0,s.jsxs)("div",{className:"flex justify-between py-3 px-5",children:[(0,s.jsx)(m.x2,{}),(0,s.jsxs)(l,{children:[(0,s.jsx)(d,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",size:"icon",children:[(0,s.jsx)(f.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(h.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,s.jsxs)(c,{align:"end",children:[(0,s.jsx)(u,{onClick:()=>e("light"),children:"Light"}),(0,s.jsx)(u,{onClick:()=>e("dark"),children:"Dark"}),(0,s.jsx)(u,{onClick:()=>e("system"),children:"System"})]})]})]})}},1329:(e,t,a)=>{"use strict";a.d(t,{Bx:()=>N,Yv:()=>E,CG:()=>z,Cn:()=>S,Gh:()=>C,SidebarProvider:()=>y,x2:()=>k});var s=a(3365),r=a(1521),n=a(2934),i=a(9580),o=a(9671),l=a(8600);a(7812);var d=a(9752),c=a(2196);function u(e){let{...t}=e;return(0,s.jsx)(d.bL,{"data-slot":"sheet",...t})}function m(e){let{...t}=e;return(0,s.jsx)(d.ZL,{"data-slot":"sheet-portal",...t})}function f(e){let{className:t,...a}=e;return(0,s.jsx)(d.hJ,{"data-slot":"sheet-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function h(e){let{className:t,children:a,side:r="right",...n}=e;return(0,s.jsxs)(m,{children:[(0,s.jsx)(f,{}),(0,s.jsxs)(d.UC,{"data-slot":"sheet-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[a,(0,s.jsxs)(d.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,s.jsx)(c.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sheet-header",className:(0,o.cn)("flex flex-col gap-1.5 p-4",t),...a})}function g(e){let{className:t,...a}=e;return(0,s.jsx)(d.hE,{"data-slot":"sheet-title",className:(0,o.cn)("text-foreground font-semibold",t),...a})}function p(e){let{className:t,...a}=e;return(0,s.jsx)(d.VY,{"data-slot":"sheet-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...a})}var b=a(1885);function v(e){let{delayDuration:t=0,...a}=e;return(0,s.jsx)(b.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}let j=r.createContext(null);function w(){let e=r.useContext(j);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function y(e){let{defaultOpen:t=!0,open:a,onOpenChange:n,className:i,style:l,children:d,...c}=e,u=function(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[m,f]=r.useState(!1),[h,x]=r.useState(t),g=null!=a?a:h,p=r.useCallback(e=>{let t="function"==typeof e?e(g):e;n?n(t):x(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[n,g]),b=r.useCallback(()=>u?f(e=>!e):p(e=>!e),[u,p,f]);r.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),b())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[b]);let w=g?"expanded":"collapsed",y=r.useMemo(()=>({state:w,open:g,setOpen:p,isMobile:u,openMobile:m,setOpenMobile:f,toggleSidebar:b}),[w,g,p,u,m,f,b]);return(0,s.jsx)(j.Provider,{value:y,children:(0,s.jsx)(v,{delayDuration:0,children:(0,s.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"20rem","--sidebar-width-icon":"3rem",...l},className:(0,o.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...c,children:d})})})}function N(e){let{side:t="left",variant:a="sidebar",collapsible:r="offcanvas",className:n,children:i,...l}=e,{isMobile:d,state:c,openMobile:m,setOpenMobile:f}=w();return"none"===r?(0,s.jsx)("div",{"data-slot":"sidebar",className:(0,o.cn)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",n),...l,children:i}):d?(0,s.jsx)(u,{open:m,onOpenChange:f,...l,children:(0,s.jsxs)(h,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,s.jsxs)(x,{className:"sr-only",children:[(0,s.jsx)(g,{children:"Sidebar"}),(0,s.jsx)(p,{children:"Displays the mobile sidebar."})]}),(0,s.jsx)("div",{className:"flex h-full w-full flex-col",children:i})]})}):(0,s.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":c,"data-collapsible":"collapsed"===c?r:"","data-variant":a,"data-side":t,"data-slot":"sidebar",children:[(0,s.jsx)("div",{"data-slot":"sidebar-gap",className:(0,o.cn)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===a||"inset"===a?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,s.jsx)("div",{"data-slot":"sidebar-container",className:(0,o.cn)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===a||"inset"===a?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...l,children:(0,s.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function k(e){let{className:t,onClick:a,...r}=e,{toggleSidebar:n}=w();return(0,s.jsxs)(l.$,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,o.cn)("size-7",t),onClick:e=>{null==a||a(e),n()},...r,children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function C(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:(0,o.cn)("flex flex-col gap-2 p-2",t),...a})}function z(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:(0,o.cn)("flex flex-col gap-2 p-2",t),...a})}function E(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,o.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a})}function S(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:(0,o.cn)("relative flex w-full min-w-0 flex-col p-2",t),...a})}(0,n.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}})},3600:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>n});var s=a(3365);a(1521);var r=a(7246);function n(e){let{children:t,...a}=e;return(0,s.jsx)(r.N,{...a,children:t})}},4270:()=>{},4867:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>i});var s=a(3365),r=a(7246),n=a(1971);let i=e=>{let{...t}=e,{theme:a="system"}=(0,r.D)();return(0,s.jsx)(n.l$,{theme:a,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})}},5209:(e,t,a)=>{"use strict";a.d(t,{AppSidebar:()=>T});var s=a(3365),r=a(1329),n=a(1521),i=a(2711),o=a(9671);function l(e){let{className:t,...a}=e;return(0,s.jsx)(i.b,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,o.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}var c=a(8600),u=a(7812);function m(e){let{onFilesSelected:t,selectedFiles:a}=e;return(0,s.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,s.jsx)(l,{htmlFor:"cv-upload",className:"text-sm",children:"Upload CVs"}),(0,s.jsx)(u.p,{id:"cv-upload",type:"file",accept:".pdf",multiple:!0,className:"mt-2",onChange:e=>{let a=e.target.files;a&&t(Array.from(a).filter(e=>e.name.endsWith(".pdf")))}}),a.length>1&&(0,s.jsx)("div",{className:"w-full border rounded-md overflow-y-scroll mt-2 max-h-30 text-muted-foreground",children:a.map((e,t)=>(0,s.jsx)("div",{className:"text-sm py-0.5 px-2 truncate",children:e.name},t))})]})}var f=a(7521),h=a(5788),x=a(3060),g=a(3650);function p(e){let{className:t,defaultValue:a,value:r,min:i=0,max:l=100,...d}=e,c=n.useMemo(()=>Array.isArray(r)?r:Array.isArray(a)?a:[i,l],[r,a,i,l]);return(0,s.jsxs)(g.bL,{"data-slot":"slider",defaultValue:a,value:r,min:i,max:l,className:(0,o.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...d,children:[(0,s.jsx)(g.CC,{"data-slot":"slider-track",className:(0,o.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,s.jsx)(g.Q6,{"data-slot":"slider-range",className:(0,o.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(e,t)=>(0,s.jsx)(g.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}let b=e=>{let{metric:t,value:a,onChange:r,onDelete:n}=e;return(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("h1",{className:"text-sm font-semibold text-primary",children:t.name}),n&&(0,s.jsx)(f.A,{className:"text-destructive hover:cursor-pointer",size:15,onClick:n})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("span",{className:"text-primary text-xs",children:[a,"%"]})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{className:"text-primary hover:bg-muted-foreground rounded-full p-1",onClick:()=>r(Math.max(0,a-1)),children:(0,s.jsx)(h.A,{className:"border-1 rounded-full border-primary",size:15})}),(0,s.jsx)("div",{className:"flex-1 relative",children:(0,s.jsx)(p,{min:0,max:100,value:[a],onValueChange:e=>{let[t]=e;return r(t)},step:1,className:"cursor-pointer"})}),(0,s.jsx)("button",{className:"text-primary hover:bg-muted-foreground rounded-full p-1",onClick:()=>r(Math.min(100,a+1)),children:(0,s.jsx)(x.A,{className:"border-1 rounded-full border-primary",size:15})})]})]})};var v=a(1971);let j=e=>{let{initialName:t="",onSave:a,onCancel:r}=e,[i,o]=(0,n.useState)(t.startsWith("/")?t.slice(1):t),[m,f]=(0,n.useState)(""),h=async()=>{let e=i.trim(),t=m.trim();if(!e||!t)return void v.oR.error((0,s.jsx)("span",{className:"text-destructive",children:"Name and description are required."}));let r=e.charAt(0).toUpperCase()+e.slice(1);try{let e=await fetch("http://localhost:8000/criteria",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,description:t})});if(!e.ok){let t=await e.json();throw Error(t.detail||"Failed to save criterion")}let s=await e.json();(0,v.oR)("Saved: ".concat(s.name," as a new metric")),o(""),a(s.name,s.description)}catch(e){v.oR.error((0,s.jsx)("span",{className:"text-destructive",children:e.message||"Failed to save criterion"}))}};return(0,s.jsxs)("div",{className:"mx-[-24px] mt-[-16px] mb-[-20px] bg-background rounded-b-lg p-4 flex flex-col gap-4 overflow-auto",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"Add new criteria"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(l,{htmlFor:"name",className:"text-sm font-medium",children:"Name"}),(0,s.jsx)(u.p,{id:"name",value:i,onChange:e=>o(e.target.value),className:"bg-background text-sm text-foreground w-full break-words",placeholder:"Enter criterion name"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(l,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),(0,s.jsx)(d,{id:"description",value:m,onChange:e=>f(e.target.value),className:"bg-background text-sm text-foreground h-52 w-full overflow-y-auto resize-none",placeholder:"Enter criterion description"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 mt-2",children:[(0,s.jsx)(c.$,{variant:"outline",onClick:r,children:"Cancel"}),(0,s.jsx)(c.$,{type:"button",onClick:h,disabled:!i.trim()||!m.trim(),children:"Save"})]})]})};var w=a(9752),y=a(2196);function N(e){let{...t}=e;return(0,s.jsx)(w.bL,{"data-slot":"dialog",...t})}function k(e){let{...t}=e;return(0,s.jsx)(w.l9,{"data-slot":"dialog-trigger",...t})}function C(e){let{...t}=e;return(0,s.jsx)(w.ZL,{"data-slot":"dialog-portal",...t})}function z(e){let{className:t,...a}=e;return(0,s.jsx)(w.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function E(e){let{className:t,children:a,...r}=e;return(0,s.jsxs)(C,{"data-slot":"dialog-portal",children:[(0,s.jsx)(z,{}),(0,s.jsxs)(w.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[a,(0,s.jsxs)(w.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute -top-5 -right-5 text-destructive hover:bg-muted-foreground rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(y.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function S(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function _(e){let{className:t,...a}=e;return(0,s.jsx)(w.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...a})}function A(e){let{className:t,...a}=e;return(0,s.jsx)(w.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...a})}let O=["Grammar","Relevance","Experience","Leadership","Education","Skills"],P=e=>{let{criteria:t,refetchCriteria:a,onCriteriaChange:r}=e,[i,o]=n.useState(""),[l,d]=(0,n.useState)(!1),[m,f]=(0,n.useState)(O),[h,x]=(0,n.useState)(!1),[g,p]=(0,n.useState)(""),[v,w]=(0,n.useState)({}),y=t.filter(e=>m.includes(e.name)),C=t.filter(e=>!m.includes(e.name)&&e.name.toLowerCase().startsWith(i.trim().toLowerCase())&&""!==i.trim()&&!i.startsWith("/"));(0,n.useEffect)(()=>{if(0===Object.keys(v).length){let e=Math.floor(100/O.length),t=100%O.length;w(Object.fromEntries(O.map((a,s)=>[a,s===O.length-1?e+t:e])))}},[]),(0,n.useEffect)(()=>{w(e=>{let t={};return m.forEach(a=>{var s;t[a]=null!=(s=e[a])?s:0}),t})},[m]);let z=100!==Math.round(Object.values(v).reduce((e,t)=>e+t,0)),P=e=>{f(t=>[...t,e]),o("")},D=async(e,t)=>{a&&await a(),x(!1),o(""),p("")},L=(e,t)=>{w(a=>{let s={...a,[e]:t},r=Object.values(s).reduce((e,t)=>e+t,0);if(100===r)return s;if(100===t)return Object.fromEntries(Object.keys(s).map(t=>[t,100*(t===e)]));let n=Object.keys(s).filter(t=>t!==e&&s[t]>0);if(0===n.length)return Object.fromEntries(Object.keys(s).map(t=>[t,100*(t===e)]));let i=r-100,o=n.reduce((e,t)=>e+s[t],0),l={...s};o>0&&n.forEach(e=>{let t=s[e]/o;l[e]=Math.max(0,Math.round(s[e]-i*t))});let d=Object.values(l).reduce((e,t)=>e+t,0);if(100!==d&&n.length>0){let e=n[n.length-1];l[e]=Math.max(0,l[e]+(100-d))}else 100!==d&&(l[e]=100);return l})},F=e=>{let t=m.filter(t=>t!==e);f(t),w(a=>{let s={...a};return delete s[e],Object.fromEntries(Object.entries(s).filter(e=>{let[a]=e;return t.includes(a)}))})};return(0,n.useEffect)(()=>{r(m,v)},[m,v,r]),(0,s.jsx)("div",{children:(0,s.jsxs)(N,{open:l,onOpenChange:e=>{if(!e){if(h)x(!1),o("");else if(z)return}d(e)},children:[(0,s.jsx)(k,{className:"py-2 rounded-md bg-foreground w-full h-fit text-primary-foreground text-sm font-medium",children:"Adjust Criteria"}),(0,s.jsx)(E,{children:h?(0,s.jsx)(j,{initialName:g,onSave:D,onCancel:()=>{x(!1),o(""),p("")}}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(S,{children:[(0,s.jsx)(_,{className:"hidden",children:"Adjust Criteria"}),(0,s.jsx)(A,{className:"hidden",children:"Make adjustments on metrics weights and modify/add criteria"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.p,{placeholder:'Add existing criteria or enter a new one using "/" as prefix',value:i,onChange:e=>o(e.target.value),className:"bg-background text-sm text-foreground",autoComplete:"off",onKeyDown:e=>{if("Enter"===e.key)if(e.preventDefault(),i.startsWith("/")&&i.length>1){let e=i.slice(1).trim();e&&(x(!0),p(e))}else C.length>0&&P(C[0].name)}}),C.length>0&&(0,s.jsx)("div",{className:"absolute left-0 right-0 top-full border bg-background mt-1 max-h-40 overflow-auto rounded-md z-50",children:C.map(e=>(0,s.jsx)("div",{className:"px-3 py-1 hover:bg-muted cursor-pointer text-left",onClick:()=>P(e.name),children:e.name},e.id))})]})]}),(0,s.jsx)("div",{className:"max-h-65 overflow-auto",children:y.map(e=>{var t;return(0,s.jsx)(b,{metric:e,value:null!=(t=v[e.name])?t:0,onChange:t=>L(e.name,t),onDelete:()=>F(e.name)},e.id)})}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(c.$,{className:"text-primary-foreground",onClick:()=>{let e=Math.floor(100/m.length),t=100%m.length;w(Object.fromEntries(m.map((a,s)=>[a,s===m.length-1?e+t:e])))},children:"Equalize"}),z&&(0,s.jsx)("p",{className:"text-destructive text-sm text-center",children:"Criteria percentage must equal 100"})]})]})})]})})};var D=a(627),L=a(1360),F=a(3299);function M(e){let{jobAnalyses:t,onRefresh:a}=e,r=(0,D.useRouter)();return(0,s.jsxs)(N,{children:[(0,s.jsxs)(k,{className:"w-full h-20 flex items-center justify-center space-x-2 hover:bg-muted rounded-md transition-colors",children:[(0,s.jsx)(L.A,{className:"w-4 h-4 text-muted-foreground"}),(0,s.jsx)("h1",{className:"w-fit text-muted-foreground",children:"Assessment History"})]}),(0,s.jsxs)(E,{children:[(0,s.jsx)(S,{children:(0,s.jsx)(_,{className:"text-muted-foreground",children:"Assessment History"})}),(0,s.jsx)("div",{className:"max-h-[400px] overflow-y-auto",children:0===t.length?(0,s.jsx)("p",{className:"text-center text-muted-foreground",children:"No assessments found"}):(0,s.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,s.jsx)("button",{onClick:()=>r.push("/results/".concat(e.id)),className:"w-full p-3 text-left hover:bg-muted rounded-md transition-colors",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"font-medium text-xs",children:e.id}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:(0,F.GP)(new Date(e.created_at),"MMM d, yyyy 'at' h:mm a")})]})},e.id))})})]})]})}var V=a(7750);function T(){let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(""),[o,u]=(0,n.useState)(!1),[f,h]=(0,n.useState)(null),[x,g]=(0,n.useState)([]),[p,b]=(0,n.useState)([]),[v,j]=(0,n.useState)({}),[w,y]=(0,n.useState)([]),N=async()=>{let e=await fetch(V.v.criteria);g((await e.json()).criteria)},k=async()=>{try{let e=await fetch(V.v.jobAnalyses);if(!e.ok)throw Error("Failed to fetch job analyses");let t=await e.json();y(t.job_analyses)}catch(e){console.error("Error fetching job analyses:",e)}};(0,n.useEffect)(()=>{N(),k()},[]);let C=(0,D.useRouter)(),z=async t=>{t.preventDefault(),u(!0),h(null);let s=x.filter(e=>p.includes(e.name)).map(e=>({id:e.id,name:e.name,description:e.description,weight:v[e.name]/100}));console.log("Criteria:",x),console.log("Shown Criteria:",p),console.log("Weights:",v),console.log("Criteria with Weights:",s);let r=new FormData;e.forEach(e=>r.append("files",e)),r.append("criteria",JSON.stringify(s)),r.append("prompt",JSON.stringify({job_description:a})),console.log("Form Data Criteria:",r.get("criteria"));try{let e=await fetch(V.v.analyzeCVs,{method:"POST",body:r});if(!e.ok)throw Error("Request failed: ".concat(e.statusText));let t=(await e.json()).job_analysis_id;await k(),C.push("/results/".concat(t))}catch(e){h(e.message)}finally{u(!1)}};return(0,s.jsxs)(r.Bx,{children:[(0,s.jsxs)(r.Yv,{className:"px-3",children:[(0,s.jsxs)(r.Cn,{children:[(0,s.jsx)(r.Gh,{className:"pt-5",children:(0,s.jsx)("h1",{className:"font-extrabold text-4xl",children:"CEVEAI"})}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"CEVEAI is an intelligent resume assessment platform designed to streamline the hiring process and enhance job applications. Using advanced AI, it analyzes CVs for structure, relevance, and key qualifications, providing instant feedback and actionable improvement suggestions."})]}),(0,s.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,s.jsx)(r.Cn,{children:(0,s.jsx)(m,{selectedFiles:e,onFilesSelected:t})}),(0,s.jsx)(r.Cn,{children:(0,s.jsxs)("div",{className:"grid gap-1.5",children:[(0,s.jsx)(l,{htmlFor:"message",className:"text-sm",children:"Job Description"}),(0,s.jsx)(d,{id:"message",placeholder:"Type your message here.",value:a,onChange:e=>i(e.target.value),className:"min-h-36 max-h-38 overflow-auto resize-none"})]})}),(0,s.jsxs)(r.Cn,{className:"flex flex-col space-y-2",children:[(0,s.jsx)(P,{criteria:x,refetchCriteria:N,onCriteriaChange:(e,t)=>{b(e),j(t)}}),(0,s.jsx)(c.$,{type:"submit",disabled:o||0===e.length,className:"bg-foreground",children:o?"Evaluating...":"Evaluate"}),f&&(0,s.jsx)("p",{className:"text-destructive text-sm",children:f})]})]}),(0,s.jsx)(r.Cn,{className:"h-10 w-full mt-auto flex flex-col",children:(0,s.jsx)(M,{jobAnalyses:w,onRefresh:k})})]}),(0,s.jsx)(r.CG,{})]})}},7750:(e,t,a)=>{"use strict";a.d(t,{v:()=>r});let s=a(4089).env.NEXT_PUBLIC_API_URL||"http://localhost:8000",r={results:e=>"".concat(s,"/results/").concat(e),criteria:"".concat(s,"/criteria"),jobAnalyses:"".concat(s,"/job-analyses"),analyzeCVs:"".concat(s,"/analyze-cvs"),generatePDF:"".concat(s,"/generate-pdf")}},7812:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(3365);a(1521);var r=a(9671);function n(e){let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},8600:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var s=a(3365);a(1521);var r=a(544),n=a(2934),i=a(9671);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:n,asChild:l=!1,...d}=e,c=l?r.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:n,className:t})),...d})}},9611:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,4270,23)),Promise.resolve().then(a.bind(a,5209)),Promise.resolve().then(a.bind(a,1201)),Promise.resolve().then(a.bind(a,3600)),Promise.resolve().then(a.bind(a,1329)),Promise.resolve().then(a.bind(a,4867)),Promise.resolve().then(a.t.bind(a,9534,23)),Promise.resolve().then(a.t.bind(a,1818,23)),Promise.resolve().then(a.t.bind(a,3094,23))},9671:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(4584),r=a(2292);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[875,429,388,347,870,358],()=>t(9611)),_N_E=e.O()}]);